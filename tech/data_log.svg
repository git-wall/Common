<svg viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#45a049;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#7B1FA2;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="grad5" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#F44336;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#D32F2F;stop-opacity:1" />
        </linearGradient>
        <marker id="arrowhead" markerWidth="10" markerHeight="7"
                refX="0" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
        </marker>
    </defs>

    <!-- Background -->
    <rect width="1400" height="1000" fill="#f8f9fa"/>

    <!-- Title -->
    <text x="700" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#333">
        Data And Log Processing Flow Architecture
    </text>

    <!-- Data Sources Layer -->
    <rect x="50" y="70" width="1300" height="120" fill="#e8f5e8" stroke="#4CAF50" stroke-width="2" rx="10"/>
    <text x="70" y="95" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">DATA SOURCES</text>

    <!-- Applications & Logs -->
    <rect x="80" y="110" width="100" height="50" fill="url(#grad1)" rx="5"/>
    <text x="130" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Applications</text>

    <rect x="200" y="110" width="80" height="50" fill="url(#grad1)" rx="5"/>
    <text x="240" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">IoT Devices</text>

    <rect x="300" y="110" width="80" height="50" fill="url(#grad1)" rx="5"/>
    <text x="340" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Databases</text>

    <rect x="400" y="110" width="80" height="50" fill="url(#grad1)" rx="5"/>
    <text x="440" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Web Servers</text>

    <!-- Data Ingestion Layer -->
    <rect x="50" y="220" width="1300" height="120" fill="#e3f2fd" stroke="#2196F3" stroke-width="2" rx="10"/>
    <text x="70" y="245" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">DATA INGESTION</text>

    <!-- Kafka -->
    <rect x="80" y="260" width="120" height="60" fill="url(#grad2)" rx="5"/>
    <text x="140" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Kafka</text>
    <text x="140" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Stream Processing</text>

    <!-- Apache Pulsar -->
    <rect x="220" y="260" width="120" height="60" fill="url(#grad2)" rx="5"/>
    <text x="280" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Pulsar</text>
    <text x="280" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Pub/Sub</text>

    <!-- NiFi -->
    <rect x="360" y="260" width="120" height="60" fill="url(#grad2)" rx="5"/>
    <text x="420" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache NiFi</text>
    <text x="420" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Data Flow</text>

    <!-- ZooKeeper -->
    <rect x="500" y="260" width="100" height="60" fill="url(#grad2)" rx="5"/>
    <text x="550" y="285" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ZooKeeper</text>
    <text x="550" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Coordination</text>

    <!-- Stream Processing Layer -->
    <rect x="50" y="370" width="1300" height="120" fill="#fff3e0" stroke="#FF9800" stroke-width="2" rx="10"/>
    <text x="70" y="395" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">STREAM PROCESSING</text>

    <!-- Flink -->
    <rect x="80" y="410" width="120" height="60" fill="url(#grad3)" rx="5"/>
    <text x="140" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Flink</text>
    <text x="140" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Real-time</text>

    <!-- Spark -->
    <rect x="220" y="410" width="120" height="60" fill="url(#grad3)" rx="5"/>
    <text x="280" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Spark</text>
    <text x="280" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Batch/Stream</text>

    <!-- Storm -->
    <rect x="360" y="410" width="120" height="60" fill="url(#grad3)" rx="5"/>
    <text x="420" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Storm</text>
    <text x="420" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Real-time</text>

    <!-- Samza -->
    <rect x="500" y="410" width="100" height="60" fill="url(#grad3)" rx="5"/>
    <text x="550" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Samza</text>
    <text x="550" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Stream</text>

    <!-- Tez -->
    <rect x="620" y="410" width="100" height="60" fill="url(#grad3)" rx="5"/>
    <text x="670" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Tez</text>
    <text x="670" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">DAG Engine</text>

    <!-- Storage Layer -->
    <rect x="50" y="520" width="1300" height="160" fill="#f3e5f5" stroke="#9C27B0" stroke-width="2" rx="10"/>
    <text x="70" y="545" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">STORAGE LAYER</text>

    <!-- Raw Storage -->
    <text x="70" y="570" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#666">Raw Storage:</text>
    <rect x="80" y="580" width="80" height="40" fill="url(#grad4)" rx="5"/>
    <text x="120" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">HDFS</text>

    <rect x="180" y="580" width="80" height="40" fill="url(#grad4)" rx="5"/>
    <text x="220" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">S3</text>

    <rect x="280" y="580" width="80" height="40" fill="url(#grad4)" rx="5"/>
    <text x="320" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">MinIO</text>

    <!-- Data Lake -->
    <rect x="380" y="580" width="100" height="40" fill="url(#grad4)" rx="5"/>
    <text x="430" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Data Lake</text>

    <!-- Formats -->
    <text x="70" y="640" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#666">Formats:</text>
    <rect x="80" y="650" width="80" height="20" fill="#ddd" rx="3"/>
    <text x="120" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#333">Parquet</text>

    <rect x="180" y="650" width="80" height="20" fill="#ddd" rx="3"/>
    <text x="220" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#333">ORC</text>

    <rect x="280" y="650" width="120" height="20" fill="#ddd" rx="3"/>
    <text x="340" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#333">Hudi/Iceberg/Delta</text>

    <!-- Analytics & Query Layer -->
    <rect x="50" y="710" width="1300" height="120" fill="#ffebee" stroke="#F44336" stroke-width="2" rx="10"/>
    <text x="70" y="735" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">ANALYTICS AND QUERY</text>

    <!-- ClickHouse -->
    <rect x="80" y="750" width="100" height="60" fill="url(#grad5)" rx="5"/>
    <text x="130" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ClickHouse</text>
    <text x="130" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">OLAP</text>

    <!-- Elasticsearch -->
    <rect x="200" y="750" width="100" height="60" fill="url(#grad5)" rx="5"/>
    <text x="250" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Elasticsearch</text>
    <text x="250" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Search/Logs</text>
    <text x="250" y="795" text-anchor="middle" font-family="Arial, sans-serif" font-size="7" fill="white">+ Lucene</text>

    <!-- Druid -->
    <rect x="320" y="750" width="100" height="60" fill="url(#grad5)" rx="5"/>
    <text x="370" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Apache Druid</text>
    <text x="370" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Time-series</text>

    <!-- Trino/Presto -->
    <rect x="440" y="750" width="100" height="60" fill="url(#grad5)" rx="5"/>
    <text x="490" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Trino/Presto</text>
    <text x="490" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Distributed</text>
    <text x="490" y="795" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Query</text>

    <!-- Dremio -->
    <rect x="560" y="750" width="80" height="60" fill="url(#grad5)" rx="5"/>
    <text x="600" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Dremio</text>
    <text x="600" y="790" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Data Lake</text>

    <!-- Hive Metastore -->
    <rect x="660" y="750" width="100" height="60" fill="url(#grad5)" rx="5"/>
    <text x="710" y="770" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Hive Metastore</text>
    <text x="710" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Metadata</text>
    <text x="710" y="795" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Management</text>

    <!-- Monitoring & Management -->
    <rect x="50" y="860" width="650" height="80" fill="#e8f5e8" stroke="#4CAF50" stroke-width="2" rx="10"/>
    <text x="70" y="885" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">MONITORING AND MANAGEMENT</text>

    <rect x="80" y="905" width="100" height="25" fill="url(#grad1)" rx="3"/>
    <text x="130" y="922" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">SkyWalking</text>

    <rect x="200" y="905" width="80" height="25" fill="url(#grad1)" rx="3"/>
    <text x="240" y="922" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Graylog</text>

    <rect x="300" y="905" width="80" height="25" fill="url(#grad1)" rx="3"/>
    <text x="340" y="922" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">IoTDB</text>

    <rect x="400" y="905" width="80" height="25" fill="url(#grad1)" rx="3"/>
    <text x="440" y="922" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Ignite</text>

    <!-- Data Lifecycle Management -->
    <rect x="720" y="860" width="630" height="80" fill="#fff3e0" stroke="#FF9800" stroke-width="2" rx="10"/>
    <text x="740" y="885" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">DATA LIFECYCLE AND EXPIRATION</text>

    <!-- Hot Data -->
    <rect x="750" y="900" width="80" height="30" fill="#ff4444" rx="3"/>
    <text x="790" y="912" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Hot Data</text>
    <text x="790" y="925" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">&lt; 7 days</text>

    <!-- Warm Data -->
    <rect x="850" y="900" width="80" height="30" fill="#ff8800" rx="3"/>
    <text x="890" y="912" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Warm Data</text>
    <text x="890" y="925" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">7-90 days</text>

    <!-- Cold Data -->
    <rect x="950" y="900" width="80" height="30" fill="#4488ff" rx="3"/>
    <text x="990" y="912" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Cold Data</text>
    <text x="990" y="925" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">90+ days</text>

    <!-- Expired/Archived -->
    <rect x="1050" y="900" width="100" height="30" fill="#666666" rx="3"/>
    <text x="1100" y="912" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Expired/Archive</text>
    <text x="1100" y="925" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Delete/Archive</text>

    <!-- Data Flow Arrows -->
    <!-- Sources to Ingestion -->
    <line x1="130" y1="170" x2="130" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="240" y1="170" x2="280" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="340" y1="170" x2="420" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Ingestion to Processing -->
    <line x1="140" y1="330" x2="140" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="280" y1="330" x2="280" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="420" y1="330" x2="420" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Processing to Storage -->
    <line x1="140" y1="480" x2="120" y2="570" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="280" y1="480" x2="220" y2="570" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="420" y1="480" x2="320" y2="570" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Storage to Analytics -->
    <line x1="120" y1="630" x2="130" y2="740" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="220" y1="630" x2="250" y2="740" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="320" y1="630" x2="370" y2="740" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="430" y1="630" x2="490" y2="740" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Large Volume Indicator -->
    <text x="1000" y="400" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ff4444">
        HIGH VOLUME
    </text>
    <text x="1000" y="415" font-family="Arial, sans-serif" font-size="10" fill="#666">
        • TB/PB scale logs
    </text>
    <text x="1000" y="430" font-family="Arial, sans-serif" font-size="10" fill="#666">
        • Real-time ingestion
    </text>
    <text x="1000" y="445" font-family="Arial, sans-serif" font-size="10" fill="#666">
        • Distributed processing
    </text>

    <!-- Lifecycle Flow Arrow -->
    <line x1="830" y1="915" x2="850" y2="915" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="930" y1="915" x2="950" y2="915" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="1030" y1="915" x2="1050" y2="915" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

</svg>